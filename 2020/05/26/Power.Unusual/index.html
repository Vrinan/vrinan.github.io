<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Vrinan">


    <meta name="subtitle" content="最后存活着的房门被敲">


    <meta name="description" content="最后存活着的房门被敲">



<title>Power.Unusual | 最后存活着的房门被敲</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 4.2.1"></head>
<body>
    <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
    <!-- <script type="text/javascript" src="//raw.githubusercontent.com/alroy233/alroy233.github.io/master/scriptAl/canvas-nest.min.js"></script> -->
    <div class="wrapper">
        <header>
    <!-- alroy -->
    <script type="text/javascript">
        WIDGET = { FID: 'JAnPUETnam' }
    </script>
    <script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/"></a></div>
            <div class="menu navbar-right">
                
                <a class="menu-item" href="/index">Home</a>
                
                <a class="menu-item" href="/categories">Categories</a>
                
                <a class="menu-item" href="/tags">Tags</a>
                
                <a class="menu-item" href="/Aimer">Nier</a>
                
                <a class="menu-item" href="/about">ひむら きせき</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/"></a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                <a class="menu-item" href="/index">Home</a>
                
                <a class="menu-item" href="/categories">Categories</a>
                
                <a class="menu-item" href="/tags">Tags</a>
                
                <a class="menu-item" href="/Aimer">Nier</a>
                
                <a class="menu-item" href="/about">ひむら きせき</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.classList.contains("active")) {
            toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        } else {
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Power.Unusual</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Vrinan</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">May 26, 2020&nbsp;&nbsp;17:28:24</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/Power/">Power</a>
                            
                        </span>
                    
                    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=298 height=52 src="//music.163.com/outchain/player?type=2&id=468490600&auto=1&height=32"></iframe>
                </div>
            
        </header>
        <div class="post-content">
            <h3 id="高级过滤"><a href="#高级过滤" class="headerlink" title="高级过滤"></a>高级过滤</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--自己录入的记录</span></span><br><span class="line">'[@HumanId]'</span><br><span class="line"><span class="comment">--参与审批的记录</span></span><br><span class="line">in ([@SQLHumanJoinWorkFlow])</span><br><span class="line"><span class="comment">--筛选登录用户在，当前项目下，同部门人员录入的 记录 使用变量参数:</span></span><br><span class="line">in  [@SQLHumanSameDeptHuman]</span><br><span class="line"><span class="comment">--筛选登录用户在，所有项目中，同部门人员录入的 记录 使用变量参数: </span></span><br><span class="line">in [@SQLHumanSameDeptHumanAll]</span><br><span class="line"><span class="comment">--筛选登录用户在，当前项目下，同岗位人员录入的 记录 使用变量参数:</span></span><br><span class="line">in [@SQLHumanSamePosiHuman]</span><br><span class="line"><span class="comment">--筛选登录用户在，所有项目中，同岗位人员录入的 记录 使用变量参数:</span></span><br><span class="line">in [@SQLHumanSamePosiHumanAll]</span><br></pre></td></tr></table></figure>



<h3 id="返回grid的所有列头信息（ParseGridAllHeader）"><a href="#返回grid的所有列头信息（ParseGridAllHeader）" class="headerlink" title="返回grid的所有列头信息（ParseGridAllHeader）"></a>返回grid的所有列头信息（ParseGridAllHeader）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ParseGridAllHeader</span>(<span class="params">miniid</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rlt = [];</span><br><span class="line">    <span class="keyword">var</span> fnloop = <span class="function"><span class="keyword">function</span> (<span class="params">cols</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, j = cols.length; i &lt; j; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cols[i].field == <span class="literal">undefined</span> || cols[i].field == <span class="string">""</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (cols[i].columns &amp;&amp; cols[i].columns.length &gt; <span class="number">0</span>)</span><br><span class="line">                    fnloop(cols[i].columns);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                rlt.push(cols[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> grid = mini.get(miniid);</span><br><span class="line">    <span class="keyword">if</span> (grid)</span><br><span class="line">        fnloop(grid.columns);</span><br><span class="line">    <span class="keyword">return</span> rlt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="进度条"><a href="#进度条" class="headerlink" title="进度条"></a>进度条</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type="text/css"&gt;</span><br><span class="line">        <span class="selector-class">.progressbar</span> &#123;</span><br><span class="line">            <span class="attribute">position</span>: relative;</span><br><span class="line">            <span class="attribute">background</span>: ##<span class="number">#bbb</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-class">.progressbar-percent</span> &#123;</span><br><span class="line">            <span class="attribute">position</span>: absolute;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">            <span class="attribute">background</span>: ##<span class="number">#4f94cd</span>;</span><br><span class="line">            <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">            <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-class">.progressbar-label</span> &#123;</span><br><span class="line">            <span class="attribute">position</span>: absolute;</span><br><span class="line">            <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">            <span class="attribute">color</span>: white;</span><br><span class="line">            <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">            <span class="attribute">text-align</span>: center;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">            <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DrawCell</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> node = e.node;</span><br><span class="line">            column = e.column;</span><br><span class="line">            field = e.field;</span><br><span class="line">            value = e.value;</span><br><span class="line">            <span class="comment">//进度条</span></span><br><span class="line">            <span class="keyword">if</span> (field == <span class="string">"PayPercent"</span>) &#123;</span><br><span class="line">                e.cellHtml = <span class="string">'&lt;div class="progressbar"&gt;'</span></span><br><span class="line">                    + <span class="string">'&lt;div class="progressbar-percent" style="width:'</span> + value + <span class="string">'%;"&gt;&lt;/div&gt;'</span></span><br><span class="line">                    + <span class="string">'&lt;div class="progressbar-label"&gt;'</span> + value + <span class="string">'%&lt;/div&gt; '</span></span><br><span class="line">                    + <span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>


<h3 id="页面关闭页面时刷新（ondestroy：function-）"><a href="#页面关闭页面时刷新（ondestroy：function-）" class="headerlink" title="页面关闭页面时刷新（ondestroy：function(){}）"></a>页面关闭页面时刷新（ondestroy：function(){}）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mini.open(&#123;</span><br><span class="line">        url: <span class="string">"/Form/EditForm/38a22cec-6b37-4448-bc6c-1af8c68d496e/"</span> + formconfig.KeyValue,</span><br><span class="line">        width: <span class="number">850</span>,</span><br><span class="line">        height: <span class="number">700</span>,</span><br><span class="line">        ondestroy: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">            a.id = <span class="string">"SF_CG_Enquiry.Refresh"</span>;</span><br><span class="line">            PowerForm.OnBtnRefresh(a);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="下拉按钮-类似于打印多个附件"><a href="#下拉按钮-类似于打印多个附件" class="headerlink" title="下拉按钮(类似于打印多个附件)"></a>下拉按钮(类似于打印多个附件)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'###'</span> <span class="attr">class</span>=<span class="string">'btn blue'</span> <span class="attr">data-toggle</span>=<span class="string">'dropdown'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">'fa fa-paypal'</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>aimMe</span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">'dropdown-menu pull-right'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">'aim1()'</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">'fa fa-bookmark '</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>1111</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">'aim2()'</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">'fa fa-bookmark '</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>2222</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">'aim3()'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">'fa fa-bookmark '</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>3333</span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"btn-group open"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span> <span class="attr">class</span>=<span class="string">"btn blue"</span> <span class="attr">data-toggle</span>=<span class="string">"dropdown"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-print"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"dropdown-menu pull-right"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"btnActive"</span> <span class="attr">class</span>=<span class="string">"mini-button flowbuttoncolor"</span> <span class="attr">onclick</span>=<span class="string">"onExecute(this,'Update,Active');"</span> <span class="attr">enabled</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">"display: none"</span> <span class="attr">visible</span>=<span class="string">"false"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-paper-plane"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>$Helper.GetResource("g_workflow")<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"btnGetBack"</span> <span class="attr">class</span>=<span class="string">"mini-button flowbuttoncolor"</span> <span class="attr">onclick</span>=<span class="string">"onExecute(this,'GetBack');"</span> <span class="attr">enabled</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">"display: none"</span> <span class="attr">visible</span>=<span class="string">"false"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-trash-o"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>$Helper.GetResource("workflow_recycling")</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"btnReturn"</span> <span class="attr">class</span>=<span class="string">"mini-button flowbuttoncolor"</span> <span class="attr">onclick</span>=<span class="string">"onExecute(this,'Update,Return');"</span> <span class="attr">enabled</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">"display: none"</span> <span class="attr">visible</span>=<span class="string">"false"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-mail-reply"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>$Helper.GetResource("workflow_rejected")</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"btnShowHistoryMonitor"</span> <span class="attr">class</span>=<span class="string">"mini-menubutton  flowbuttoncolor"</span> <span class="attr">menu</span>=<span class="string">"###popupHistoryMonitor"</span> <span class="attr">enabled</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">"display: none"</span> <span class="attr">visible</span>=<span class="string">"false"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-eye"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>$Helper.GetResource("workflow_history")<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"btnShowMonitor"</span> <span class="attr">class</span>=<span class="string">"mini-button flowbuttoncolor"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> <span class="attr">style</span>=<span class="string">"display: none"</span> <span class="attr">visible</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-eye"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>$Helper.GetResource("workflow_monitorbutton")<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="变流程颜色"><a href="#变流程颜色" class="headerlink" title="变流程颜色"></a>变流程颜色</h3><p><img src="http://wx1.sinaimg.cn/mw690/e9157a1fgy1ftv63oqizxj20qo0dxweh.jpg" alt="Foo"></p>
<h3 id="主表分成多个页签"><a href="#主表分成多个页签" class="headerlink" title="主表分成多个页签"></a>主表分成多个页签</h3><p><img src="https://user-images.githubusercontent.com/21699594/45668046-f01b5880-bb4d-11e8-88fd-123f8bd6df61.png" alt="tim 20180918140952"></p>
<h3 id="背景图片url"><a href="#背景图片url" class="headerlink" title="背景图片url"></a>背景图片url</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F:\Project\PowerPMS\App_Themes\Blue\assets\img\bg</span><br></pre></td></tr></table></figure>

<h3 id="全局参数，自定义url，默认启动页面"><a href="#全局参数，自定义url，默认启动页面" class="headerlink" title="全局参数，自定义url，默认启动页面"></a>全局参数，自定义url，默认启动页面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;Form&#x2F;OpenURL?url&#x3D;&#x2F;PowerPlat&#x2F;FormXml&#x2F;zh-CN&#x2F;StdPortal&#x2F;PS_PersonalCenter.html|个人中心</span><br><span class="line">&lt;!-- 不加&#x2F;Form&#x2F;OpenURL?会取不到session值 --&gt;</span><br></pre></td></tr></table></figure>



<h3 id="向导排序"><a href="#向导排序" class="headerlink" title="向导排序"></a>向导排序</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">params.sort = gridright.sortField + <span class="string">" "</span> + gridright.sortOrder;</span><br><span class="line"><span class="keyword">if</span> (params.sort.length == <span class="number">1</span>) &#123;</span><br><span class="line">    params.sort = <span class="string">""</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot;children&quot;: [ ],</span><br><span class="line">&quot;KindEditor&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;ViewControl&quot;: &quot;content1&quot;,</span><br><span class="line">        &quot;Content&quot;: &quot;EeventsMemo&quot;,</span><br><span class="line">        &quot;Text&quot;: &quot;EeventsText&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="开启SSQL记录"><a href="#开启SSQL记录" class="headerlink" title="开启SSQL记录"></a>开启SSQL记录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;开始SQL语句查看方法（web.config中的&lt;appSettings&gt;里面）&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">&lt;!--是否启用调试，默认不启用--&gt;</span><br><span class="line">&lt;add key&#x3D;&quot;XCode.Debug&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;</span><br><span class="line">&lt;!--是否输出SQL语句，默认为XCode调试开关XCode.Debug--&gt;</span><br><span class="line">&lt;add key&#x3D;&quot;XCode.ShowSQL&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="做过的功能"><a href="#做过的功能" class="headerlink" title="做过的功能"></a>做过的功能</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、生成签章（SF-人员维护）</span><br><span class="line">2、批量下载附件（SF-客户登记窗体）</span><br><span class="line">3、序列化与反序列化（SF-费控）</span><br><span class="line">4、渲染 附件tab(附件数、url链接)（SF-出项发票） FormFuns.js-by元鑫</span><br><span class="line">5、点击送审后自动关闭页面：E:\SF_PowerPMS\PowerPMS\PowerPlat\WorkFlows\WorkNodeSelect.html加的刷新去掉(新的没有)，</span><br><span class="line">   修改E:\SF_PowerPMS\PowerPMS\Scripts\PlatForm目录下的</span><br><span class="line">   ControlCenter.js和WorkFlowsForm.js，修改回调函数</span><br><span class="line">   更新后好像只用改ControlCenter了。。</span><br><span class="line">6、重复判断，合同评审，合同登记</span><br></pre></td></tr></table></figure>

<h3 id="what’s-these"><a href="#what’s-these" class="headerlink" title="what’s these"></a>what’s these</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重新生成编号</span></span><br><span class="line">currow.Code = <span class="string">""</span>;</span><br><span class="line">currow.TransferType = e.value;</span><br><span class="line">FormFuns.LoadCode(formconfig.config.joindata,<span class="keyword">new</span> mini.Form(<span class="string">"#ZDelta_CM_FundsSupervise"</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//自动填补</span></span><br><span class="line">&lt;input id=<span class="string">"PS_FileContact.ToDept"</span> name=<span class="string">"ToDept"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"mini-autocomplete"</span>  url=<span class="string">"/Data/AutoComplete?keyword=PS_FileContact&amp;id=ToDept&amp;text=ToDept"</span>  emptytext=<span class="string">"输入关键词.."</span>/&gt;</span><br></pre></td></tr></table></figure>


<h3 id="递归（属性节点汇总金额-默认选中有数据行）"><a href="#递归（属性节点汇总金额-默认选中有数据行）" class="headerlink" title="递归（属性节点汇总金额/默认选中有数据行）"></a>递归（属性节点汇总金额/默认选中有数据行）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findBOQTreeIndex = <span class="function"><span class="keyword">function</span>(<span class="params">dt</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>;i&lt;dt.length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(stopFlag == <span class="number">1</span>)&#123;<span class="keyword">return</span>;&#125;<span class="comment">//return</span></span><br><span class="line">        <span class="keyword">var</span> obja = dt[i];</span><br><span class="line">        <span class="keyword">if</span>(obja.IsExistsChild == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            stopFlag =<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(obja.children)&#123;</span><br><span class="line">                <span class="keyword">if</span>(obja.IsExistsChild == <span class="number">1</span>)&#123;</span><br><span class="line">                    stopFlag =<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    objb = obja.children;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; objb.length; t++) &#123;</span><br><span class="line">                        BOQTreeIndex++;</span><br><span class="line">                        objc = objb[t];</span><br><span class="line">                        <span class="keyword">if</span>(stopFlag == <span class="number">1</span>)&#123;<span class="keyword">return</span> ;&#125;</span><br><span class="line">                        <span class="keyword">if</span>(objc.IsExistsChild == <span class="number">1</span>)&#123;</span><br><span class="line">                            stopFlag =<span class="number">1</span>;</span><br><span class="line">                            <span class="keyword">return</span> BOQTreeIndex;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="keyword">if</span>(objc.children)</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="keyword">var</span> temp = findBOQTreeIndex(objc.children);</span><br><span class="line">                                <span class="comment">// BOQTreeIndex++;</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(obja.IsExistsChild == <span class="number">1</span>)&#123;</span><br><span class="line">                    stopFlag =<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    BOQTreeIndex++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        BOQTreeIndex++;</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="向导-选中-取消"><a href="#向导-选中-取消" class="headerlink" title="向导 选中/取消"></a>向导 选中/取消</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">human.on(<span class="string">"select"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> data = gridselected.getData();</span><br><span class="line">    <span class="keyword">var</span> row = mini.clone(e.record);</span><br><span class="line">    <span class="keyword">var</span> cRow = gridselected.findRow(<span class="function"><span class="keyword">function</span> (<span class="params">findrow</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (findrow.Id == row.Id)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">if</span> (!cRow) &#123;</span><br><span class="line">        <span class="keyword">if</span> (human.multiSelect)</span><br><span class="line">            gridselected.addRow(row);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> data = [];</span><br><span class="line">            data.push(row);</span><br><span class="line">            gridselected.setData(data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">human.on(<span class="string">"deselect"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    OnDelGridSelected(e.record.Id);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">OnDelGridSelected</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = gridselected.getData();</span><br><span class="line">    <span class="keyword">if</span> (arr.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i].Id == id) &#123;</span><br><span class="line">            gridselected.removeRow(arr[i], <span class="literal">false</span>);</span><br><span class="line">            gridselected.accept();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>

        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Power/"># Power</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/05/26/Tech.Chrome/">Tech.Chrome</a>
            
            
            <a class="next" rel="next" href="/2020/05/26/Tech.Html/">Tech.Html</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <!-- <span>© Vrinan|Powered by Hexo</span> -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_site_pv">x<span id="busuanzi_value_site_pv"></span></span>
        <span class="post-meta-divider">|</span>
        <span id="busuanzi_container_site_uv">s<span id="busuanzi_value_site_uv"></span></span>
    </div>
</footer>
    </div>
</body>
</html>
